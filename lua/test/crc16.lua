local crc16 = require 'lib.crc16'
local util = require 'lib.util'
local format_bytes = util.format_bytes

local a = {
  0x7e,
  0x07,
  0x01,
  0x00,0x00,0x00,0x5a,
  0x00,
  0x01,
  0x01,
  0x00,0x04,
  0x34,0x31,0x30,0x31,0x32,0x32,0x47,0x31,0x30,0x37,0x51,0x4c,0x53,0x30,0x30,0x30,0x30,0x31,
  0x14,0x15,0x0c,0x1f,0x0b,0x36,0x30,
  0x07,
  0x59,0x53,0x42,0x20,0x20,
  0x41,0x49,0x4f,0x54,0x59,0x42,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
  0x34,0x31,0x30,0x31,0x32,0x32,0x47,0x31,0x30,0x37,0x51,0x4c,0x53,0x30,0x30,0x30,0x30,0x31,
  0x40,0x5c,0x82,0x70,0x3a,0xfb,0x7a,0x91,
  0x40,0x41,0x78,0xc7,0xe2,0x82,0x40,0xb8,
  0x00,
  0x00,0x00,0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
  0x00,0x3c,
  0x00,0x00,
  0x00,
  0x32,0x30,0x32,0x31,0x30,0x01,0x30,0x01,
  0x9e,0x2e,
  0x7e
}

local crc = crc16(a)
print(format_bytes(crc))
